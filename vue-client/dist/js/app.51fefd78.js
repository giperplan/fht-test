(function(){"use strict";var t={7906:function(t,e,r){var n=r(9242),i=r(3396),a=r(7139);const s=t=>((0,i.dD)("data-v-09e65e8d"),t=t(),(0,i.Cn)(),t),c={class:"menu"},o=s((()=>(0,i._)("label",{for:"search",class:"col-form-label"},"Содержит: ",-1))),u=s((()=>(0,i._)("label",{for:"search",class:"col-form-label"},"Бюджет от: ",-1))),l=s((()=>(0,i._)("label",{for:"search",class:"col-form-label"},"до: ",-1))),d={class:"container-fluid content"},h={class:"projects"},p=["onClick","data-active"],f=["innerHTML"],g={key:0,class:"project__budget"},b={class:"project__budget__value"},m={class:"skills"},v=["data-id"],_={key:0,class:"projectCard"},w={class:"projectCard__date"},j=["innerHTML"],y=["href"];function k(t,e,r,s,k,x){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",c,[o,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control search","onUpdate:modelValue":e[0]||(e[0]=t=>k.search=t)},null,512),[[n.nr,k.search]]),u,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control search",style:{width:"100px"},"onUpdate:modelValue":e[1]||(e[1]=t=>k.minBudget=t)},null,512),[[n.nr,k.minBudget]]),l,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control search",style:{width:"100px"},"onUpdate:modelValue":e[2]||(e[2]=t=>k.maxBudget=t)},null,512),[[n.nr,k.maxBudget]])]),(0,i._)("div",d,[(0,i._)("div",h,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(x.filteredProjects,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"project",key:t.id,onClick:e=>x.selectProject(t.id),"data-active":t.id===k.editID},[(0,i._)("div",{class:"project__name",innerHTML:x.highlightedSearch(t.attributes.name)},null,8,f),null!==t.attributes.budget?((0,i.wg)(),(0,i.iD)("div",g,[(0,i._)("span",b,(0,a.zw)(t.attributes.budget.amount)+" "+(0,a.zw)(t.attributes.budget.currency),1)])):(0,i.kq)("",!0),(0,i._)("div",m,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.attributes.skills,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"skill",key:t.id,"data-id":t.id},(0,a.zw)(t.name),9,v)))),128))])],8,p)))),128))])]),k.editID?((0,i.wg)(),(0,i.iD)("div",_,[(0,i._)("div",w,(0,a.zw)(x.currentProject.attributes.published_at.split("T")[0]),1),(0,i._)("div",{class:"projectCard__description",innerHTML:x.highlightedSearch(x.currentProject.attributes.description)},null,8,j),(0,i._)("a",{class:"projectCard__link",href:x.currentProject.links.self.web,target:"_blank"},(0,a.zw)(x.currentProject.links.self.web),9,y)])):(0,i.kq)("",!0)],64)}var x={data(){return{projects:[],editID:0,search:"",minBudget:"",maxBudget:""}},methods:{loadData:async function(){let t="localhost"===window.location.hostname?"https://fhtest.loc":"",e=await fetch(t+"/api.php?request=projects");return await e.json()},selectProject(t){this.editID=t}},async created(){this.projects=await this.loadData(),console.log("this.projects",this.projects)},computed:{preparedSearch(){return this.search.trim().toLowerCase()},isSearchMatch(){return function(t){return!this.preparedSearch||(t.attributes.name.toLowerCase().includes(this.preparedSearch)||t.attributes.description.toLowerCase().includes(this.preparedSearch))}},isMinBudgetMatch(){return function(t){return!this.minBudget||(!this.minBudget||null!==t.attributes.budget)&&t.attributes.budget.amount>=parseInt(this.minBudget)}},isMaxBudgetMatch(){return function(t){return!this.maxBudget||(!this.maxBudget||null!==t.attributes.budget)&&t.attributes.budget.amount<=parseInt(this.maxBudget)}},highlightedSearch(){return function(t){return this.preparedSearch?t.replace(new RegExp(this.preparedSearch,"gi"),(t=>'<span class="highlight">'+t+"</span>")):t}},currentProject(){return this.projects.find((t=>t.id===this.editID))},filteredProjects(){return this.preparedSearch||this.minBudget||this.maxBudget?this.projects.filter((t=>this.isSearchMatch(t)&&this.isMinBudgetMatch(t)&&this.isMaxBudgetMatch(t))):this.projects}},setup(){return{}}},B=r(89);const M=(0,B.Z)(x,[["render",k],["__scopeId","data-v-09e65e8d"]]);var S=M;r(2166);(0,n.ri)(S).mount("#app")}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var a=e[n]={exports:{}};return t[n].call(a.exports,a,a.exports,r),a.exports}r.m=t,function(){var t=[];r.O=function(e,n,i,a){if(!n){var s=1/0;for(l=0;l<t.length;l++){n=t[l][0],i=t[l][1],a=t[l][2];for(var c=!0,o=0;o<n.length;o++)(!1&a||s>=a)&&Object.keys(r.O).every((function(t){return r.O[t](n[o])}))?n.splice(o--,1):(c=!1,a<s&&(s=a));if(c){t.splice(l--,1);var u=i();void 0!==u&&(e=u)}}return e}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[n,i,a]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,n){var i,a,s=n[0],c=n[1],o=n[2],u=0;if(s.some((function(e){return 0!==t[e]}))){for(i in c)r.o(c,i)&&(r.m[i]=c[i]);if(o)var l=o(r)}for(e&&e(n);u<s.length;u++)a=s[u],r.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return r.O(l)},n=self["webpackChunkvue_client"]=self["webpackChunkvue_client"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(7906)}));n=r.O(n)})();
//# sourceMappingURL=app.51fefd78.js.map